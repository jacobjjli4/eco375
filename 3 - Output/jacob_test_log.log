----------------------------------------------------------------------
      name:  <unnamed>
       log:  C:/Users/lijia/OneDrive - University of Toronto/Documents
> /School/1-5 ECO375/ECO375 Project//3 - Output/jacob_test_log.log
  log type:  text
 opened on:  22 Mar 2023, 15:15:05

. 
. 
. * Prepare race data for merge
. cd "$INPUT_PATH/Covariates"
C:\Users\lijia\OneDrive - University of Toronto\Documents\School\1-5 E
> CO375\ECO375 Project\1 - Data\Covariates

. 
end of do-file

. do "C:\Users\lijia\AppData\Local\Temp\STD289c_000000.tmp"

. import excel "Age and Sex Data.xlsx", firstrow clear
(16 vars, 85,395 obs)

. gen tract_code = substr(GEO_ID, 10, 13)

. drop GEO_ID NAME-age_over_65

. 
end of do-file

. br

. help replace

. do "C:\Users\lijia\AppData\Local\Temp\STD289c_000000.tmp"

. replace median_age = real(median_age)
type mismatch
r(109);

end of do-file

r(109);

. br

. help replace

. do "C:\Users\lijia\AppData\Local\Temp\STD289c_000000.tmp"

. real(median_age)
command real is unrecognized
r(199);

end of do-file

r(199);

. help destring

. do "C:\Users\lijia\AppData\Local\Temp\STD289c_000000.tmp"

. replace median_age = destring median_age
destring not found
r(111);

end of do-file

r(111);

. do "C:\Users\lijia\AppData\Local\Temp\STD289c_000000.tmp"

. destring, replace
median_age: contains nonnumeric characters; no replace
male_female_ratio: contains nonnumeric characters; no replace
tract_code: all characters numeric; replaced as double

. 
end of do-file

. br

. br

. do "C:\Users\lijia\AppData\Local\Temp\STD289c_000000.tmp"

. import excel "Age and Sex Data.xlsx", firstrow clear
(16 vars, 85,395 obs)

. gen tract_code = substr(GEO_ID, 10, 13)

. drop GEO_ID NAME-age_over_65

. 
end of do-file

. tab nco2004 if missing(real(nco2004))
variable nco2004 not found
r(111);

. tab nco2004 if missing(real(median_age))
variable nco2004 not found
r(111);

. tab median_age if missing(real(median_age))

       median_age |      Freq.     Percent        Cum.
------------------+-----------------------------------
                - |        911      100.00      100.00
------------------+-----------------------------------
            Total |        911      100.00

. do "C:\Users\lijia\AppData\Local\Temp\STD289c_000000.tmp"

. drop if median_age == -
invalid syntax
r(198);

end of do-file

r(198);

. do "C:\Users\lijia\AppData\Local\Temp\STD289c_000000.tmp"

. drop if median_age == "-"
(911 observations deleted)

. 
end of do-file

. tab male_female_ratio if missing(real(male_female_ratio))

male_female_ratio |      Freq.     Percent        Cum.
------------------+-----------------------------------
                - |         74      100.00      100.00
------------------+-----------------------------------
            Total |         74      100.00

. do "C:\Users\lijia\AppData\Local\Temp\STD289c_000000.tmp"

. drop if median_age == "-"
(0 observations deleted)

. drop if male_female_ratio == "-"
(74 observations deleted)

. 
end of do-file

. do "C:\Users\lijia\AppData\Local\Temp\STD289c_000000.tmp"

. destring male_female_ratio median_age, replace
male_female_ratio: all characters numeric; replaced as double
median_age: all characters numeric; replaced as double

. 
end of do-file

. br

. do "C:\Users\lijia\AppData\Local\Temp\STD289c_000000.tmp"

. save "cleaned_Age and Sex Data", replace
file cleaned_Age and Sex Data.dta saved

. 
end of do-file

. do "C:\Users\lijia\AppData\Local\Temp\STD289c_000000.tmp"

. cd "$INPUT_PATH/Merge"
C:\Users\lijia\OneDrive - University of Toronto\Documents\School\1-5 E
> CO375\ECO375 Project\1 - Data\Merge

. use "HOLC_Voting_Merged.dta", clear

. 
. foreach file in "cleaned_Census Tract Population Data (2020).dta" "c
> leaned_Tract Level Income Data (2020)" "cleaned_Age and Sex Data" "c
> leaned_Education Data" {
  2.         capture drop _merge
  3.         merge 1:1 tract_code using "$INPUT_PATH/Covariates/`file'
> "
  4.         drop if _merge == 2
  5. }

    Result                      Number of obs
    -----------------------------------------
    Not matched                        68,813
        from master                         0  (_merge==1)
        from using                     68,813  (_merge==2)

    Matched                            16,582  (_merge==3)
    -----------------------------------------
(68,813 observations deleted)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        68,813
        from master                         0  (_merge==1)
        from using                     68,813  (_merge==2)

    Matched                            16,582  (_merge==3)
    -----------------------------------------
(68,813 observations deleted)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        68,202
        from master                       187  (_merge==1)
        from using                     68,015  (_merge==2)

    Matched                            16,395  (_merge==3)
    -----------------------------------------
(68,015 observations deleted)

    Result                      Number of obs
    -----------------------------------------
    Not matched                        68,813
        from master                         0  (_merge==1)
        from using                     68,813  (_merge==2)

    Matched                            16,582  (_merge==3)
    -----------------------------------------
(68,813 observations deleted)

. 
. * generate race proportion data
. foreach var of varlist pop_white pop_black pop_asian {
  2.         gen perc_`var' = `var' / pop_total
  3. }
(67 missing values generated)
(67 missing values generated)
(67 missing values generated)

. 
. save "$INPUT_PATH/Merge/HOLC_Voting_Covariates.dta", replace
file C:/Users/lijia/OneDrive - University of
    Toronto/Documents/School/1-5 ECO375/ECO375 Project//1 -
    Data/Merge/HOLC_Voting_Covariates.dta saved

. 
. 
end of do-file

. do "C:\Users\lijia\AppData\Local\Temp\STD289c_000000.tmp"

. // Directories for Jacob
. global PATH "C:/Users/lijia/OneDrive - University of Toronto/Documen
> ts/School/1-5 ECO375/ECO375 Project/"

. global OUTPUT_PATH "$PATH/3 - Output"

. global INPUT_PATH "$PATH/1 - Data"

. 
. // * Directories for Ben
. // global PATH "/Users/benlee/Documents/GitHub/eco375"
. // global OUTPUT_PATH "$PATH/3 - Output"
. // global INPUT_PATH "$PATH/1 - Data"
. 
. cd "$OUTPUT_PATH"
C:\Users\lijia\OneDrive - University of Toronto\Documents\School\1-5 E
> CO375\ECO375 Project\3 - Output

. 
. capture log close
